{
    "summary": "Ethereum Research\n\n#  Rollup as a Service: Opportunities and Challenges\n\nLayer 2\n\nnanfengpo July 13, 2022, 10:05am  1\n\nTLDR: This article discusses the opportunities and challenges in building\n\u201cRollup as a Service\u201d for Web3 applications.\n\n#  RaaS Opportunities, From Multi-chain to Multi-rollup\n\nCosmos and Polkadot adopt the multi-chain structure for their scaling\nsolutions. Their blockchain SDK, Tendermint and Substrate, are applied by many\nprojects to customize blockchains. These blockchains use cross-chain protocols\nlike Cosmos IBC, Polkadot XCM, and bridges to interact with each other.\nHowever, such protocols are difficult to guarantee high security, which leads\nto frequent exploit events. As a result, cross-chain protocols did not work as\nexpected, resulting in relative independence between blockchains.\n\ncosmospolkadot1381\u00d7520 143 KB\n\n_FromCosmos Network - Internet of Blockchains_ _and_ _Getting Started \u00b7\nPolkadot Wiki_\n\nLater, a more secure scaling technology called rollup emerged. Rollup\ncompresses Layer 2 transactions into a \u201cbatch\u201d, uploads it to Layer 1, and\nproves the validity of state transition on Layer 1 through Fraud Proof\n(Optimistic-rollup) or Validity Proof (ZK-rollup). Since data availability and\nstate validity are verified on Layer 1, rollup obtains the same level of\nsecurity as Layer 1, ensuring that assets can be safely transferred between\nLayer 1 and Layer 2.\n\nSo far, many rollup projects such as Arbitrum, Optimism, ZkSync, and StarkNet\nhave already been in use. In addition to these universal rollups, there also\ncame up some **application-specific rollups,** including StarkEx rollup SDK-\nbased dYdX (order book DEX) and DeversiFi (AMM DEX), etc. Although the rollup\ntechnology is not yet fully developed, and few teams have mastered it, there\nis still strong demand for this technology on the market.\n\n1001\u00d7854 158 KB\n\n_Universal and application-specific rollups listed athttps://l2beat.com/_\n\nRollup provides a standalone execution environment with high TPS, low gas, and\naccess to all assets from Layer 1, which helps applications on the blockchain\nscale from DeFi to more general fields like games and social networks. We\nexpect rollup will gradually become a sort of service provided to **Web3\napplications** , i.e., **Rollup as a Service (Raas)**. Some projects are now\nheading in this direction. Ethereum\u2019s rollup-centric roadmap and StarkNet\u2019s\nLayer 3 architecture both demonstrate an application-specific multi-rollup\nfuture.\n\n700\u00d7421 128 KB\n\n_StarkNet\u2019s architecture described in_ _Fractal Scaling: From L2 to L3. It\u2019s\nlayers all the way down | by StarkWare | StarkWare | Medium_ _, where Layer3\nare multiple application-specific rollups._\n\n#  Challenges in Building RaaS\n\nRollup still faces the following challenges in providing RaaS.\n\n##  Engineering\n\nFirst of all, let\u2019s talk about the **rollup SDK**. One can deploy some\nconfiguration and launch rollups quickly based on an SDK. The open-source\nrollups are better choices for SDK development to avoid reinventing the wheel.\nFor Optimistic-rollups, both Arbitrum and Optimism are open-source. From\nL2beat, we can see that both Metis and Boba are developed on Optimism\u2019s code\nbase. In contrast, ZK-rollups are not very open-source. ZkSync releases\ncomplete code for v1 but merely the contract code for v2 (zkEVM enabled).\nStarkEx releases only the contract code and provides other modules to third\nparties through a closed source. StartNet provides code solely in Cairo.\n\nThough Optimistic-rollups have more mature codebases and better support for\nEVM, the inherent characteristics of fraud-proof leave them far behind ZK-\nrollups in terms of finality and security. A ZK-rollup Layer 2 transaction is\nfinalized immediately after being proved on Layer 1, while an Optimistic-\nrollup Layer 2 transaction requires several days before the finalization due\nto the challenge period. On the other hand, Optimistic-rollups need more\nassumptions for security: at least 1-out-of-N honest operators for fraud-proof\nsubmission and a censorship-resistant Layer 1 for fraud-proof acceptance.\n\nIn sum, we can quickly build an Optimistic-rollup SDK right now based on the\nexisting open-source code, but **a ZK-rollup SDK seems more attractive in the\nlong run**. Of course, in addition to the codebase issue, a design of ZKVM,\ni.e., ZKP-provable smart contracts, is also in urgent need. Currently, a\nvariety of ZKVM solutions are under development. The methods of each solution\nare still not unified.\n\n1321\u00d7668 112 KB\n\n_A comparison of ZKVMs by Ye Zhang\u2019s talk \"_ _An overview of zkEVM_ _\"_\n\n##  Performance\n\nAs mentioned, batched transactions are required to send to Layer 1 in a\nrollup, so the **TPS** of the rollup is limited by Layer 1\u2019s storage space,\naka the Data Availability (DA) problem. Ethereum has proposed a series of\nLayer 1 storage scaling solutions, including EIP-4488, Proto-Danksharding, and\nthe full Danksharding (currently seeking proposals). Besides the scaling for\nLayer 1, many projects like Celestia and Polygon Avail are also attempting to\nexpand the storage capacity for Layer 2. However, these solutions\u2019 security\nand ease of use still need further examination.\n\n761\u00d7245 19.2 KB\n\n_How the block size will be increased by EIP-4488 and Proto-danksharding in\nVitalik\u2019s \"_ _Proto-Danksharding FAQ_ _\"_\n\nIn terms of ZK-rollup, the **TPS** is additionally limited by ZKP calculation\nspeed. Paradigm and 6block have different hardware choices on GPU, FPGA, and\nASIC to accelerate the calculation. In addition, 6block compares several\nsoftware architectures for ZKP distributed computing, including mining pool,\nproof aggregation, and DIZK. ZPrize, an upcoming competition, also\nincentivizes developers to find valuable solutions to accelerating ZKP\ncalculation.\n\nEnsuring the high availability of the rollup service is another critical\nissue. Current rollups on the market are almost centralized, i.e., only\nspecific operators can submit batches and proofs to Layer 1. This is a\nvulnerable design since the SPOF (single point of failure) will easily lead to\nservice unavailability. Arbitrum has suffered hours of downtime on several\noccasions due to software bugs and hardware failures. Many projects are\nworking on decentralizing rollups to avoid SPOF, including zkSync, StarkNet,\nPolygon Hermes, PoVP, and taikocha.in.\n\n##  Economics\n\n**A good economic model** is under consideration for RaaS. For now, the\nprofits of service providers mainly come from the transaction fee gap between\nLayer 1 and Layer 2, i.e., charging fees from Layer 2 as the revenue and\npaying fees to Layer 1 as the costs. Optimism has issued its governance token,\nbut it\u2019s still not a good way to maintain a sustainable income.\n\n_Rollups and their fees listed on_ _https://l2fees.info/_\n\nMost of the existing rollups are third-party services built on the blockchain,\nso their primary income is merely from the transaction fee. However, we can\nget out of this mindset and regard rollups as **native services** the\nblockchain provides. Like Cosmos\u2019 and Polkadot\u2019s design, the whole system\ncontains one blockchain and multiple rollups attached to the blockchain,\nforming a decentralized network with infinite scalability. In this way, the\nnetwork can reward both Layer 1 blockchain validators and Layer 2 rollup\noperators with the same native token. This idea is similar to \u201censhrined\nrollups\u201d proposed by Polynya and is worth further research.\n\n##  Functionality\n\nLike the cross-chain protocols in Cosmos and Polkadot, a **cross-rollup**\n**protocol** is necessary when multiple rollups are deployed on one\nblockchain. Users can also withdraw their assets from Layer 1 and deposit them\nto another rollup, but the process requires additional fees on Layer 1 and\nmore operation steps. Some third-party cross-rollup bridges leverage liquidity\npools to help users transfer between rollups instantly, but these bridges are\nas vulnerable to exploits as cross-chain bridges.\n\n_A future blockchain architecture described by Vitalik in \"_ _Endgame_ _\",\nwith multiple rollups and cross-rollup bridges among them_\n\nIdeally, the blockchain should provide a **native cross-rollup bridge**\nmaintained by its validators for security. Moreover, such a bridge should\npreferably support synchronous message calls from one rollup to another, i.e.,\na user on one rollup can directly call the contract on another. This will\nmaximize user experience in a multi-rollup architecture. The underlying\ntechnology is complicated, but we look forward to its emergence.\n\n#  Conclusion\n\nThis article describes RaaS, i.e., providing rollup services to DApps.\nApparently, blockchain will usher in a multi-rollup future for Web3. Anyone\ncan quickly launch their rollup with an SDK and run applications on the rollup\nwith high performance and low costs. After discussing all the possible\nchallenges faced by RaaS, we finally came up with the idea of **native\nrollups** , which will help the blockchain reward rollup validators with its\nnative token and provide a cross-rollup bridge maintained by its validators.\nWe plan to study it further carefully and elaborate on it in future articles.\n\n15 Likes\n\nImplementing native rollups with precompiled contracts\n\nThe ZK/OP Debate in RaaS: Why ZK-RaaS Takes the Lead\n\nshakeib98 November 13, 2022, 5:40pm  2\n\nAfter reading the post I have one thought that Rollmint (Celestia\u2019s SDK for\nrollup) is similar to this? Would you agree on it?\n\nnanfengpo November 16, 2022, 3:51am  4\n\nYes, there are some similarities, for example we both provide an SDK to help\nusers build rollup quickly, but the platform where Native Rollup is mentioned\nin this article is more focused on a fully functional chain rather than just a\nDA layer, which would include things that celestia does not, such as unified\nconsensus, a unified economic model, and **native** cross-rollup communication\n\n2 Likes\n\nmadhavg January 17, 2023, 7:59am  5\n\nyo was curious where does fuel vm fit into the landscape?\n\nneelsomani January 30, 2023, 5:44am  6\n\nHeads up that this is what we\u2019re building at Eclipse:\nhttps://twitter.com/EclipseFND\n\nWe don\u2019t offer a rollup SDK at this point but might add one in the future as\nthe customizations we support become more sophisticated.\n\n  * Home \n  * Categories \n  * FAQ/Guidelines \n  * Terms of Service \n  * Privacy Policy \n\nPowered by Discourse, best viewed with JavaScript enabled\n\nSkip to main content\n\nSign UpLog In\n\n  *   * \n\n#\n\nRollup as a Service: Opportunities and Challenges\n\nLayer 2\n\nYou have selected **0** posts.\n\nselect all\n\ncancel selecting\n\nJul 2022\n\n1 / 5\n\nJul 2022\n\nJan 2023\n\nnanfengpo\n\n3\n\nJul '22\n\nTLDR: This article discusses the opportunities and challenges in building\n\u201cRollup as a Service\u201d for Web3 applications.\n\n#  RaaS Opportunities, From Multi-chain to Multi-rollup\n\nCosmos and Polkadot adopt the multi-chain structure for their scaling\nsolutions. Their blockchain SDK, Tendermint and Substrate, are applied by many\nprojects to customize blockchains. These blockchains use cross-chain protocols\nlike Cosmos IBC 16, Polkadot XCM 12, and bridges 13 to interact with each\nother. However, such protocols are difficult to guarantee high security, which\nleads to frequent exploit events. As a result, cross-chain protocols did not\nwork as expected, resulting in relative independence between blockchains.\n\ncosmospolkadot1381\u00d7520 143 KB\n\n_FromCosmos Network - Internet of Blockchains 8_ _and_ _Getting Started \u00b7\nPolkadot Wiki 2_\n\nLater, a more secure scaling technology called rollup emerged. Rollup\ncompresses Layer 2 transactions into a \u201cbatch\u201d, uploads it to Layer 1, and\nproves the validity of state transition on Layer 1 through Fraud Proof\n(Optimistic-rollup) or Validity Proof (ZK-rollup). Since data availability and\nstate validity are verified on Layer 1, rollup obtains the same level of\nsecurity as Layer 1, ensuring that assets can be safely transferred between\nLayer 1 and Layer 2.\n\nSo far, many rollup projects such as Arbitrum, Optimism, ZkSync, and StarkNet\nhave already been in use. In addition to these universal rollups, there also\ncame up some **application-specific rollups,** including StarkEx rollup SDK\n39-based dYdX (order book DEX) and DeversiFi (AMM DEX), etc. Although the\nrollup technology is not yet fully developed, and few teams have mastered it,\nthere is still strong demand for this technology on the market.\n\n1001\u00d7854 158 KB\n\n_Universal and application-specific rollups listed athttps://l2beat.com/ 53_\n\nRollup provides a standalone execution environment with high TPS, low gas, and\naccess to all assets from Layer 1, which helps applications on the blockchain\nscale from DeFi to more general fields like games and social networks. We\nexpect rollup will gradually become a sort of service provided to **Web3\napplications** , i.e., **Rollup as a Service (Raas)**. Some projects are now\nheading in this direction. Ethereum\u2019s rollup-centric roadmap 31 and StarkNet\u2019s\nLayer 3 architecture 38 both demonstrate an application-specific multi-rollup\nfuture.\n\n700\u00d7421 128 KB\n\n_StarkNet\u2019s architecture described in_ _Fractal Scaling: From L2 to L3. It\u2019s\nlayers all the way down | by StarkWare | StarkWare | Medium 17_ _, where\nLayer3 are multiple application-specific rollups._\n\n#  Challenges in Building RaaS\n\nRollup still faces the following challenges in providing RaaS.\n\n##  Engineering\n\nFirst of all, let\u2019s talk about the **rollup SDK**. One can deploy some\nconfiguration and launch rollups quickly based on an SDK. The open-source\nrollups are better choices for SDK development to avoid reinventing the wheel.\nFor Optimistic-rollups, both Arbitrum and Optimism are open-source. From\nL2beat, we can see that both Metis and Boba are developed on Optimism\u2019s code\nbase. In contrast, ZK-rollups are not very open-source. ZkSync releases\ncomplete code for v1 5 but merely the contract 1 code for v2 (zkEVM enabled).\nStarkEx releases only the contract 1 code and provides other modules to third\nparties through a closed source. StartNet provides code solely in Cairo 2.\n\nThough Optimistic-rollups have more mature codebases and better support for\nEVM, the inherent characteristics of fraud-proof leave them far behind ZK-\nrollups in terms of finality and security. A ZK-rollup Layer 2 transaction is\nfinalized immediately after being proved on Layer 1, while an Optimistic-\nrollup Layer 2 transaction requires several days before the finalization due\nto the challenge period. On the other hand, Optimistic-rollups need more\nassumptions for security: at least 1-out-of-N honest operators for fraud-proof\nsubmission and a censorship-resistant Layer 1 for fraud-proof acceptance.\n\nIn sum, we can quickly build an Optimistic-rollup SDK right now based on the\nexisting open-source code, but **a ZK-rollup SDK seems more attractive in the\nlong run**. Of course, in addition to the codebase issue, a design of ZKVM,\ni.e., ZKP-provable smart contracts, is also in urgent need. Currently, a\nvariety of ZKVM solutions are under development. The methods of each solution\nare still not unified.\n\n1321\u00d7668 112 KB\n\n_A comparison of ZKVMs by Ye Zhang\u2019s talk \"_ _An overview of zkEVM 45_ _\"_\n\n##  Performance\n\nAs mentioned, batched transactions are required to send to Layer 1 in a\nrollup, so the **TPS** of the rollup is limited by Layer 1\u2019s storage space,\naka the Data Availability 8 (DA) problem. Ethereum has proposed a series of\nLayer 1 storage scaling solutions, including EIP-4488, Proto-Danksharding, and\nthe full Danksharding (currently seeking proposals 6). Besides the scaling for\nLayer 1, many projects like Celestia and Polygon Avail are also attempting to\nexpand the storage capacity for Layer 2. However, these solutions\u2019 security\nand ease of use still need further examination.\n\n761\u00d7245 19.2 KB\n\n_How the block size will be increased by EIP-4488 and Proto-danksharding in\nVitalik\u2019s \"_ _Proto-Danksharding FAQ 11_ _\"_\n\nIn terms of ZK-rollup, the **TPS** is additionally limited by ZKP calculation\nspeed. Paradigm and 6block have different hardware choices on GPU, FPGA, and\nASIC to accelerate the calculation. In addition, 6block compares several\nsoftware architectures for ZKP distributed computing, including mining pool,\nproof aggregation, and DIZK. ZPrize 6, an upcoming competition, also\nincentivizes developers to find valuable solutions to accelerating ZKP\ncalculation.\n\nEnsuring the high availability of the rollup service is another critical\nissue. Current rollups on the market are almost centralized, i.e., only\nspecific operators can submit batches and proofs to Layer 1. This is a\nvulnerable design since the SPOF (single point of failure) will easily lead to\nservice unavailability. Arbitrum has suffered hours of downtime on several\noccasions due to software bugs and hardware failures 1. Many projects are\nworking on decentralizing rollups to avoid SPOF, including zkSync 4, StarkNet\n2, Polygon Hermes, PoVP 9, and taikocha.in 12.\n\n##  Economics\n\n**A good economic model** is under consideration for RaaS. For now, the\nprofits of service providers mainly come from the transaction fee gap between\nLayer 1 and Layer 2, i.e., charging fees from Layer 2 as the revenue and\npaying fees to Layer 1 as the costs. Optimism has issued its governance token\n6, but it\u2019s still not a good way to maintain a sustainable income.\n\n_Rollups and their fees listed on_ _https://l2fees.info/ 23_\n\nMost of the existing rollups are third-party services built on the blockchain,\nso their primary income is merely from the transaction fee. However, we can\nget out of this mindset and regard rollups as **native services** the\nblockchain provides. Like Cosmos\u2019 and Polkadot\u2019s design, the whole system\ncontains one blockchain and multiple rollups attached to the blockchain,\nforming a decentralized network with infinite scalability. In this way, the\nnetwork can reward both Layer 1 blockchain validators and Layer 2 rollup\noperators with the same native token. This idea is similar to \u201censhrined\nrollups 42\u201d proposed by Polynya and is worth further research.\n\n##  Functionality\n\nLike the cross-chain protocols in Cosmos and Polkadot, a **cross-rollup**\n**protocol** is necessary when multiple rollups are deployed on one\nblockchain. Users can also withdraw their assets from Layer 1 and deposit them\nto another rollup, but the process requires additional fees on Layer 1 and\nmore operation steps. Some third-party cross-rollup bridges 20 leverage\nliquidity pools to help users transfer between rollups instantly, but these\nbridges are as vulnerable to exploits as cross-chain bridges.\n\n_A future blockchain architecture described by Vitalik in \"_ _Endgame 24_ _\",\nwith multiple rollups and cross-rollup bridges among them_\n\nIdeally, the blockchain should provide a **native cross-rollup bridge**\nmaintained by its validators for security. Moreover, such a bridge should\npreferably support synchronous message calls from one rollup to another, i.e.,\na user on one rollup can directly call the contract on another. This will\nmaximize user experience in a multi-rollup architecture. The underlying\ntechnology is complicated, but we look forward to its emergence.\n\n#  Conclusion\n\nThis article describes RaaS, i.e., providing rollup services to DApps.\nApparently, blockchain will usher in a multi-rollup future for Web3. Anyone\ncan quickly launch their rollup with an SDK and run applications on the rollup\nwith high performance and low costs. After discussing all the possible\nchallenges faced by RaaS, we finally came up with the idea of **native\nrollups** , which will help the blockchain reward rollup validators with its\nnative token and provide a cross-rollup bridge maintained by its validators.\nWe plan to study it further carefully and elaborate on it in future articles.\n\n15\n\n  * Implementing native rollups with precompiled contracts13\n  * The ZK/OP Debate in RaaS: Why ZK-RaaS Takes the Lead4\n\n  * #### created\n\nJul '22\n\n  * #### last reply\n\nJan '23\n\n  * 4\n\n#### replies\n\n  * 10.8k\n\n#### views\n\n  * 4\n\n#### users\n\n  * 17\n\n#### likes\n\n  * 32\n\n#### links\n\n  * 2\n\n4 months later\n\nshakeib98\n\nNov '22\n\nAfter reading the post I have one thought that Rollmint (Celestia\u2019s SDK for\nrollup) is similar to this? Would you agree on it?\n\nnanfengpo\n\nNov '22\n\nYes, there are some similarities, for example we both provide an SDK to help\nusers build rollup quickly, but the platform where Native Rollup is mentioned\nin this article is more focused on a fully functional chain rather than just a\nDA layer, which would include things that celestia does not, such as unified\nconsensus, a unified economic model, and **native** cross-rollup communication\n\n2\n\n2 months later\n\nmadhavg\n\nJan '23\n\nyo was curious where does fuel vm fit into the landscape?\n\n12 days later\n\nneelsomani\n\nJan '23\n\nHeads up that this is what we\u2019re building at Eclipse:\nhttps://twitter.com/EclipseFND 62\n\nWe don\u2019t offer a rollup SDK at this point but might add one in the future as\nthe customizations we support become more sophisticated.\n\nReply\n\nShare \u200b  \u200b\n\nEthresearch\n\nCivilized discussion furthering Ethereum research\n\nCommunity\n\n  * Ethereum Magicians \n  * Ethereum Swag \n\nRead Before Posting\n\n\u200b\n\n\u200b  Invalid date  \u200b Invalid date\n\n",
    "links": "[{\"link\": \"https://ethresear.ch/\", \"text\": \"\\n    Ethereum Research\\n  \"}, {\"link\": \"https://ethresear.ch/t/rollup-as-a-service-opportunities-and-challenges/13051\", \"text\": \"Rollup as a Service: Opportunities and Challenges\"}, {\"link\": \"https://ethresear.ch/\", \"text\": \"Home \"}, {\"link\": \"https://ethresear.ch/categories\", \"text\": \"Categories \"}, {\"link\": \"https://ethresear.ch/guidelines\", \"text\": \"FAQ/Guidelines \"}, {\"link\": \"https://ethresear.ch/tos\", \"text\": \"Terms of Service \"}, {\"link\": \"https://ethresear.ch/privacy\", \"text\": \"Privacy Policy \"}, {\"link\": \"https://ethresear.ch/\", \"text\": \"\"}, {\"link\": \"https://ethresear.ch/t/rollup-as-a-service-opportunities-and-challenges/13051\", \"text\": \"\\n                Rollup as a Service: Opportunities and Challenges\\n              \"}, {\"link\": \"https://ethresear.ch/c/layer-2/32\", \"text\": \"\"}, {\"link\": \"https://ethresear.ch/u/nanfengpo\", \"text\": \"\"}, {\"link\": \"https://ethresear.ch/u/nanfengpo\", \"text\": \"nanfengpo\"}, {\"link\": \"https://ethresear.ch/t/rollup-as-a-service-opportunities-and-challenges/13051\", \"text\": \"Jul '22\"}, {\"link\": \"https://ethresear.ch/t/rollup-as-a-service-opportunities-and-challenges/13051/6\", \"text\": \"\"}, {\"link\": \"https://ethresear.ch/u/nanfengpo\", \"text\": \"\"}, {\"link\": \"https://ethresear.ch/u/shakeib98\", \"text\": \"\"}, {\"link\": \"https://ethresear.ch/u/madhavg\", \"text\": \"\"}, {\"link\": \"https://ethresear.ch/u/shakeib98\", \"text\": \"\"}, {\"link\": \"https://ethresear.ch/u/shakeib98\", \"text\": \"shakeib98\"}, {\"link\": \"https://ethresear.ch/t/rollup-as-a-service-opportunities-and-challenges/13051/2\", \"text\": \"Nov '22\"}, {\"link\": \"https://ethresear.ch/u/nanfengpo\", \"text\": \"\"}, {\"link\": \"https://ethresear.ch/u/nanfengpo\", \"text\": \"nanfengpo\"}, {\"link\": \"https://ethresear.ch/t/rollup-as-a-service-opportunities-and-challenges/13051/4\", \"text\": \"Nov '22\"}, {\"link\": \"https://ethresear.ch/u/madhavg\", \"text\": \"\"}, {\"link\": \"https://ethresear.ch/u/madhavg\", \"text\": \"madhavg\"}, {\"link\": \"https://ethresear.ch/t/rollup-as-a-service-opportunities-and-challenges/13051/5\", \"text\": \"Jan '23\"}, {\"link\": \"https://ethresear.ch/u/neelsomani\", \"text\": \"\"}, {\"link\": \"https://ethresear.ch/u/neelsomani\", \"text\": \"neelsomani\"}, {\"link\": \"https://ethresear.ch/t/rollup-as-a-service-opportunities-and-challenges/13051/6\", \"text\": \"Jan '23\"}]"
}